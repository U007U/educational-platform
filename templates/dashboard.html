<!DOCTYPE html>
<html lang='ru'>

<head>
    <meta charset='UTF-8'>
    <title>Dashboard</title>
    <style>
        body {
            font-family: system-ui;
            background: linear-gradient(135deg, #667eea, #764ba2);
            min-height: 100vh;
            padding: 2rem;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .logout {
            background: #ef4444;
            color: white;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
    </style>
</head>

<body>
    <div class='container'>
        <div class='header'>
            <h1>üéØ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
            <button class='logout' onclick='logout()'>–í—ã–π—Ç–∏</button>
        </div>
        <div class='cards'>
            <div style='background:rgba(255,255,255,0.1);padding:2rem;border-radius:16px;backdrop-filter:blur(10px);'>
                <h3>üìö –ú–æ–∏ –∫—É—Ä—Å—ã</h3>
                <p>0 –∞–∫—Ç–∏–≤–Ω—ã—Ö</p>
            </div>
            <div style='background:rgba(255,255,255,0.1);padding:2rem;border-radius:16px;backdrop-filter:blur(10px);'>
                <h3>üìñ –£—Ä–æ–∫–∏</h3>
                <p>0 –∑–∞–≤–µ—Ä—à–µ–Ω–æ</p>
            </div>
        </div>
    </div>
    <script>
        function logout() { localStorage.removeItem('token'); window.location.href = '/'; }
        if (!localStorage.getItem('token')) window.location.href = '/';
        fetch('/protected/profile', { headers: { 'Authorization': `Bearer ${localStorage.getItem('token')}` } })
            .then(r => r.json()).then(user => document.querySelector('h1').innerHTML = `üéØ ${user.email}`);
    </script>
</body>

</html>